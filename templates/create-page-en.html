<!doctype html>

<html lang="en">

<style type="text/css">

body {
font-family: sans-serif;
max-width: 800px;
margin: 0 auto;
}

.title{
width: 94%;
font: 30px sans-serif;
font-weight: bold;
text-align: center;
margin-left: 3%;
}

.error {
color: red;
font: 11px sans-serif;
}

.url-available {
color: green;
font: 11px sans-serif;
}

.center {
margin: 0 auto;
text-align: center;
}

.centertable {
width: 90%;
max-width: 520px;
margin: 0 auto;
}

.centerinfo {
width: 90%;
max-width: 520px;
margin: 0 auto;
font: 12px sans-serif;
}

.centertopinfo {
width: 90%;
max-width: 520px;
margin: 0 auto;
font: 16px sans-serif;
}

.formatting-info {
width: 94%;
height: 10px;
margin: 0 auto;
font: 13px sans-serif;
}

table, tr, td {
    border: none;
}

img {
max-width: 90%;
}

.createpagelabel {
display: inline-block;
vertical-align:top;
width: 230px;
}

.createpageinput {
display: inline-block;
vertical-align:top;
width: 280px;
margin-bottom: 15px
}

</style>


<head>
	<meta charset="utf-8">
	<link rel="shortcut icon" href="/favicon0.ico">
	<title>py.gl - Put it online</title>
	<meta name="description" content="With py.gl you can easily create a free and clean one-page website. Just type your text, insert images and publish your pygl-page with one click.">
	<meta name="keywords" content="pygl, create free website, free microsite, create microsite, create single-page website, get free advertisement website, create free business website">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<style type="text/css"></style>
  <!--
	<script src='https://www.google.com/recaptcha/api.js'></script>
  -->
	<script>
       //function onSubmit(token) {
         //gtag_report_conversion();
         //gtag('event', 'conversion', {'send_to': 'AW-960369895/AbmyCImgkHkQ56n4yQM'});
         //document.getElementById("create-form").submit();
       //}
      function onSubmit() {
         //gtag_report_conversion();
         gtag('event', 'conversion', {'send_to': 'AW-960369895/AbmyCImgkHkQ56n4yQM'});
         document.getElementById("create-form").submit();
       }
  </script>
	
	<script src='/tinymce/js/tinymce/tinymce.min.js'></script>
  <script>
  tinymce.init({
    selector: '#maintextarea',
    height: 500,
    theme: "modern",
    plugins: 'preview paste searchreplace autolink directionality visualblocks visualchars fullscreen image link media template codesample code table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists textcolor imagetools contextmenu colorpicker textpattern autoresize',
    toolbar1: 'formatselect | bold italic strikethrough forecolor backcolor | link | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent  | removeformat',
    image_dimensions: false,

  	// enable automatic uploads of images represented by blob or data URIs
  	automatic_uploads: true,
  	// URL of our upload handler (for more details check: https://www.tinymce.com/docs/configure/file-image-upload/#images_upload_url)
  	// images_upload_url: 'postAcceptor.php',
  	// here we add custom filepicker only to Image dialog
  	file_picker_types: 'image', 
  	// and here's our custom image picker
  	file_picker_callback: function(cb, value, meta) {
    	var input = document.createElement('input');
    	input.setAttribute('type', 'file');
    	input.setAttribute('accept', 'image/*');
	    
	    // Note: In modern browsers input[type="file"] is functional without 
	    // even adding it to the DOM, but that might not be the case in some older
	    // or quirky browsers like IE, so you might want to add it to the DOM
	    // just in case, and visually hide it. And do not forget do remove it
	    // once you do not need it anymore.
	
	    input.onchange = function() {
	      var file = this.files[0];
        var dataurl;
        
        var imgreader = new FileReader();
	      imgreader.onload = function () {
	      	
	        image.src = event.target.result;;
	      };
        
        
        // Create an image
        var image = new Image();
        image.onload = function()
        {
            var MAX_WIDTH = 640;
            var MAX_HEIGHT = 640;
            var width = image.width;
            var height = image.height;

            if (width > height) {
              if (width > MAX_WIDTH) {
                height *= MAX_WIDTH / width;
                width = MAX_WIDTH;
              }
            } else {
              if (height > MAX_HEIGHT) {
                width *= MAX_HEIGHT / height;
                height = MAX_HEIGHT;
              }
            }
            var canvas = document.createElement("canvas");
            canvas.width = width;
            canvas.height = height;
            var ctx = canvas.getContext("2d");
            ctx.drawImage(image, 0, 0, width, height);
        
            dataurl = canvas.toDataURL("image/jpeg", 0.6);
            //console.log(dataurl); 
            //reader.readAsDataURL(canvas.toDataURL("image/png"));
          
            canvas.toBlob(function(blob){
            blob.name = file.name;               
            
              // Note: Now we need to register the blob in TinyMCEs image blob
            // registry. In the next release this part hopefully won't be
            // necessary, as we are looking to handle it internally.
            var id = 'blobid' + (new Date()).getTime();
            var blobCache =  tinymce.activeEditor.editorUpload.blobCache;
            var base64 = dataurl.split(',')[1];
            var blobInfo = blobCache.create(id, blob, base64);

            blobCache.add(blobInfo);


            // call the callback and populate the Title field with the file name
            cb(blobInfo.blobUri(), { title: blob.name });
              
            }, 'image/jpeg', 0.6);
          
          
        };
        
        imgreader.readAsDataURL(file);
	    };
	    
	    input.click();
	}
  	
  });
  </script>
	
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-109506841-1"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());
	
	  gtag('config', 'UA-109506841-1');
	  gtag('config', 'AW-960369895');
	</script>


	<script>
	function gtag_report_conversion() {
		gtag('event', 'sign_up', {
		  'method': 'direct'
		});
	}
	</script>

	<script>
	function handleFiles(image_id)
	{	var file;
	    if (image_id === '0') {
	      file = document.getElementById('image_input0').files[0];
	    } else if (image_id === '1') {
	      file = document.getElementById('image_input1').files[0];
	    } else {
	      file = document.getElementById('image_input2').files[0];
	    }
		if(file != undefined) {
		if(file.type.match(/image.*/)){
	    // Create an image
	    var image = new Image();
	    image.src = 
	    image.onload = function()
	    {
	     
	        //var canvas = $("<canvas>", {"id":"testing"})[0];
	        //var ctx = canvas.getContext("2d");
	        //ctx.drawImage(img, 0, 0);
	
	        var MAX_WIDTH = 480;
	        var MAX_HEIGHT = 480;
	        var width = image.width;
	        var height = image.height;
	        
	        //document.getElementById("demo").innerHTML = file.type;
	        //document.getElementById("demo2").innerHTML = image.width;
	
	        if (width > height) {
	          if (width > MAX_WIDTH) {
	            height *= MAX_WIDTH / width;
	            width = MAX_WIDTH;
	          }
	        } else {
	          if (height > MAX_HEIGHT) {
	            width *= MAX_HEIGHT / height;
	            height = MAX_HEIGHT;
	          }
	        }
	        var canvas = document.createElement("canvas");
	        canvas.width = width;
	        canvas.height = height;
	        var ctx = canvas.getContext("2d");
	        ctx.drawImage(image, 0, 0, width, height);
	
	        var dataurl = canvas.toDataURL("image/jpeg");
	        
			//document.getElementById("demo").innerHTML = dataurl;
			
			
			var fd = new FormData();
			fd.append("name", "paul");
			fd.append("dataurl", dataurl);
			var xhr = new XMLHttpRequest();
			xhr.open("POST", "http://py.gl/r/upload");
			//xhr.open("POST", "https://pygl-page.appspot.com/r/upload");
			//xhr.open("POST", "https://8080-dot-2973034-dot-devshell.appspot.com/r/upload");
			
			xhr.onload = function () {
			  if (xhr.readyState === 4) {
			    if (xhr.status === 200) {
			      console.log(xhr.responseText);
			      //document.getElementById("demo").innerHTML = xhr.responseText;
			      if (image_id === '0') {
				      document.getElementById("image_id0").value = xhr.responseText;
				      document.getElementById('preview_image0').src = dataurl;
				      document.getElementById('image_input0').value= null; 
			      } else if (image_id === '1') {
			          document.getElementById("image_id1").value = xhr.responseText;
				      document.getElementById('preview_image1').src = dataurl;
				      document.getElementById('image_input1').value= null; 
			      } else {
				      document.getElementById("image_id2").value = xhr.responseText;
				      document.getElementById('preview_image2').src = dataurl;
				      document.getElementById('image_input2').value= null; 
				  }
			      
			    } else {
			      console.error(xhr.statusText);
			      //document.getElementById("demo").innerHTML = xhr.statusText;
			    }
			  }
			};
			
			xhr.send(fd);
			
	        
	    };
	    
	    
	    // Create a file reader
	    var reader = new FileReader();
	    // Set the image once loaded into file reader
	    reader.onload = function()
	    {
	    	//document.getElementById('preview_image').src = event.target.result;
	    	//var image = document.createElement("img");
	    	
	        image.src = event.target.result;
	      
	    };
	    // Load files into file reader
	    reader.readAsDataURL(file);
	    }
	    else
	    {
	    // document.getElementById("demo").innerHTML = "not image type";
	    }
	    }
	    else
	    {
	    // document.getElementById("demo").innerHTML = "file undefined";
	    }
	    
	}
	
function deleteImage(image_id){
	if (image_id === '0') {
		document.getElementById("image_id0").value = null;
		document.getElementById('preview_image0').src = "";
		document.getElementById('image_input0').value= null; 
	} else if (image_id === '1') {
		document.getElementById("image_id1").value = null;
		document.getElementById('preview_image1').src = "";
		document.getElementById('image_input1').value= null;
	}else {
		document.getElementById("image_id2").value = null;
		document.getElementById('preview_image2').src = "";
		document.getElementById('image_input2').value= null; 
	}
}
	
function autosize(element) {

    var scrollLeft = window.pageXOffset ||
   (document.documentElement || document.body.parentNode || document.body).scrollLeft;

   var scrollTop  = window.pageYOffset ||
   (document.documentElement || document.body.parentNode || document.body).scrollTop;

    element.style.height = "5px";
    element.style.height = (element.scrollHeight + 10)+"px";
    
   window.scrollTo(scrollLeft, scrollTop);
    
}


function autosizeall() {
	var element;
	element = document.getElementById("page_text0");
	if (element.innerHTML !== "") {autosize(element);}
	element = document.getElementById("page_text1");
	if (element.innerHTML !== "") {autosize(element);}
}

var delayTimerUrl;
function checkUrl(urlString){
clearTimeout(delayTimerUrl);
	delayTimerUrl = setTimeout(function() {
	var fd = new FormData();
	var xhr = new XMLHttpRequest();
	xhr.open("GET", "http://py.gl/r/check-url?q=" + urlString);
	xhr.onload = function () {
			  if (xhr.readyState === 4) {
			    if (xhr.status === 200) {
			    	if (xhr.responseText === 'empty')
			    	{
				    	document.getElementById("urlerror").innerHTML = "";
						document.getElementById("urlinfo").innerHTML = "";
					} else if (xhr.responseText === 'free') {
						document.getElementById("urlerror").innerHTML = "";
						document.getElementById("urlinfo").innerHTML = "Available";
					} else if (xhr.responseText === 'used') {
						document.getElementById("urlerror").innerHTML = "Not available";
						document.getElementById("urlinfo").innerHTML = "";
					} else {
						document.getElementById("urlerror").innerHTML = "Invalid name (must be between 2 and 160 characters and may contain a-z, 0-9 and -)";
						document.getElementById("urlinfo").innerHTML = "";
					}
			    } else {
			      document.getElementById("urlinfo").innerHTML = xhr.statusText;
			    }
			  }
			};
			
	xhr.send(fd);
			
    }, 1200); // Will do the check after 1200 ms
}
	
	
function useExtendedForm(){
	document.getElementById('extendedform').style.display = 'block';
	document.getElementById('simpleform').style.display = 'none';
	return false;
}

function useSimpleForm(){
	document.getElementById('extendedform').style.display = 'none';
	document.getElementById('simpleform').style.display = 'block';
	return false;
}

function jumptoanchor(anchor){
	if (anchor !== '' && anchor !== undefined)
	{
		location.href="#" + anchor;
	}
}

	
	</script>
</head>

<body onload=jumptoanchor("{% if (err_uri_invalid == True) or (err_password_retype == True) or (err_uri_not_available == True) or (err_passwort_format == True) or (err_captcha == True)%}pub{% endif %}")>
	<form id="create-form" method="POST" enctype="multipart/form-data">
	<br><br>
		<div>
			<label>
				<p>
				<textarea id="maintextarea" style="font: 16px sans-serif;" name="page_text0">{{page_text0}}</textarea>
				</p>
			</label>
		</div>
		<a name="pub"></a>
		
		<br><br><br>

		<div class="centertable">
			<div class="createpagelabel">
			Website URL:
			</div>
			<div class="createpageinput">
				<input type="text" style="text-align: right;font: 16px sans-serif; width: 220px;" name="page_uri" placeholder="your-page" value="{{page_uri}}" onkeyup="checkUrl(this.value)"> .py.gl
				<br>
				<div id="urlinfo" class="url-available">
					
				</div>
				<div id="urlerror" class="error">
					{% if err_uri_not_available == True %}
					Not available
					{% endif %}
					{% if err_uri_invalid == True %}
					Invalid name (must be between 2 and 160 characters and may contain a-z, 0-9 and -)
					{% endif %}
				</div>
			</div>
			
			<div class="createpagelabel">
			Show comments:
			</div>
			<div class="createpageinput">
				<input type="checkbox" name="comments_active" value="comments_active" {{comments_checked}}>
			</div>
			
			<div class="createpagelabel">
			Set password:
			</div>
			<div class="createpageinput">
				<input type="password" style="font: 16px sans-serif; width: 260px;" name="page_password" placeholder="">
				<br>
				<div class="error">
					{% if err_passwort_format == True %}
					Invalid password (must have at least 6 characters and may contain A-Z, a-z, 0-9 and @#$%^!?&+=)
					{% endif %}
				</div>
			</div>
			
			<div class="createpagelabel">
			Confirm password:
			</div>
			<div class="createpageinput">
				<input type="password" style="font: 16px sans-serif; width: 260px;" name="page_repassword" placeholder="">
				<br>
				<div class="error">
					{% if err_password_retype == True %}
					The retyped password did not match
					{% endif %}
				</div>
			</div>
			
			<div class="createpagelabel">
			Email:
			</div>
			<div class="createpageinput">
				<input type="text" style="font: 16px sans-serif; width: 260px;" name="page_email" placeholder="(optional)" value="{{page_email}}">
			</div>
			
			<div class="createpagelabel">
			Publish website:
			</div>
			<div class="createpageinput">
        <!--
				<button
				class="g-recaptcha" style="font: 15px sans-serif;width:100px;"
				data-sitekey="6Le1hicUAAAAAKPxxf4c3xJn61w5Za78csRVWjlS"
				data-callback="onSubmit">
				OK
				</button>
        -->
        <button onclick="onSubmit()" style="font: 15px sans-serif;width:100px;">OK</button>
				<br>
				<div class="error">
					{% if err_captcha == True %}
					sorry, recaptcha failed
					{% endif %}
				</div>
			</div>
			
		</div>
		<br>
		<br>
		
		<div class="centerinfo">
		py.gl is a free service, you will not be charged for any costs.
		There is no expiry time for your page, it will stay on the internet until you delete it.
		If you want to edit or delete your page, please use the 'Edit page' link at the bottom of your pygl-page.
		<br><br>
		If your page contains any inappropriate or offensive content (violent, sexual, copyrighted content, etc.) or violates any personal rights we reserve the right to remove the page.
		<br><br>
		If you want to report a problem with a py.gl page, please use the 'Report page' link at the bottom of the page or go directly to our report form:
		<br>
		<a href="http://py.gl/r/report-page" style="color: black;">py.gl/r/report-page</a> 
		<br><br>
		If there are any other issues with py.gl, please contact us:
		<br>
		<a href="mailto:support@py.gl" style="color: black;">support@py.gl</a> 
		</div>
		
		
		
	</form>
	<br><br>
	<div>
	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- pygl-page-01 -->
	<ins class="adsbygoogle"
	     style="display:block"
	     data-ad-client="ca-pub-7721448403959102"
	     data-ad-slot="2178889147"
	     data-ad-format="auto"></ins>
	<script>
	(adsbygoogle = window.adsbygoogle || []).push({});
	</script>
	</div>
	<br><br>
</body>
</html>
